Лабораторная работа №3.
Тема: «Синхронизация потоков при помощи критических секций и событий. Обработка тупиков».
Задача.
Написать программу для консольного процесса, который состоит из потока main и нескольких экземпляров потока marker.

Поток main
Должен выполнять следующие действия:

Захватить память под массив целых чисел, размерность которого вводится с консоли.
Инициализировать элементы массива нулями.
Запросить количество потоков marker, которые требуется запустить.
Запустить заданное количество экземпляров потока marker. В качестве параметра каждому экземпляру потока marker передать его порядковый номер в запуске.
Дать сигнал на начало работы всех потоков marker.
Выполнять в цикле следующие действия:
Ждать, пока все потоки marker не подадут сигналы о невозможности продолжения своей работы.
Вывести содержимое массива на консоль.
Запросить с консоли порядковый номер потока marker, которому будет подан сигнал на завершение своей работы.
Подать потоку marker, номер которого получен в пункте 6.3, сигнал на завершение работы.
Ждать завершение работы потока marker, которому был подан сигнал на завершение работы в пункте 6.4.
Вывести содержимое массива на консоль.
Подать сигнал на продолжение работы, оставшимся потокам marker.
Завершить свою работу после завершения работы всех потоков marker.
Поток marker
Должен выполнять следующие действия:

Начать работу по сигналу от потока main.
Инициализировать генерацию последовательности случайных чисел. Для этого использовать функцию srand, которой передать в качестве аргумента свой порядковый номер.
Работать циклически, выполняя на каждом цикле следующие действия:
Генерировать случайное число, используя функцию rand.
Разделить это число по модулю на размерность массива.
Если элемент массива, индекс которого равен результату деления, равен нулю, то выполнить следующие действия:
Поспать 5 миллисекунд.
Занести в элемент, индекс которого вычислен, свой порядковый номер.
Поспать 5 миллисекунд.
Продолжить исполнение цикла 3.
В противном случае:
Вывести на консоль следующую информацию:
свой порядковый номер;
количество помеченных элементов;
индекс элемента массива, который невозможно пометить.
Дать сигнал потоку main на невозможность продолжения своей работы.
Ждать ответный сигнал на продолжение или завершение работы от потока main.
Если получен сигнал на завершение работы, то выполнить следующие действия:
Заполнить нулями в массиве все элементы, которые он пометил.
Завершить работу.
Если получен сигнал на продолжение работы, то продолжить исполнение цикла изпункта 3.
